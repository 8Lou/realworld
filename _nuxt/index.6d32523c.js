import{H as b,_ as k}from"./TheContainer.55625e00.js";import{f as h,o as a,c as n,a as t,F as v,s as w,t as o,j as $,l as C,b as r,w as i,g as e,i as P}from"./entry.4e723040.js";import{_ as D}from"./CustomPagination.vue.80e78d69.js";import{u as _}from"./fetch.a60d0d79.js";import{a as p}from"./index.e0cfa627.js";import"./nuxt-link.8cb77361.js";const L={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},A={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},E=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},"Автор"),t("th",{scope:"col",class:"px-6 py-3"},"Задача"),t("th",{scope:"col",class:"px-6 py-3"},"Дата создания"),t("th",{scope:"col",class:"px-6 py-3"},"Дата выполнения"),t("th",{scope:"col",class:"px-6 py-3"},"Статус"),t("th",{scope:"col",class:"px-6 py-3"},"Приоритет"),t("th",{scope:"col",class:"px-6 py-3"},"Действие")])],-1),S={class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},T={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},U={class:"mb-4"},B=["data-src","src"],N={class:"inline-block align-middle mr-6 ml-1"},R={class:"px-6 py-4"},V={class:"font-bold text-lg mb-1 text-gray-700"},q={class:"px-6 py-4"},F={class:"date block text-gray-400 text-xs"},H={class:"px-6 py-4"},G={class:"date block text-gray-400 text-xs"},I={class:"px-6 py-4"},j={class:"date block text-gray-400 text-xs"},M={class:"px-6 py-4"},X={class:"date block text-gray-400 text-xs"},z={class:"px-6 py-4"},J=["href"],K={class:"text-xs font-light text-gray-400"},O=h({__name:"TodosList",props:{todos:{}},setup(m){return(d,l)=>(a(),n("div",null,[t("div",null,[t("div",L,[t("table",A,[E,(a(!0),n(v,null,w(d.todos,s=>(a(),n("tbody",{key:s.id,class:"border-t border-gray-200 py-6"},[t("tr",S,[t("th",T,[t("div",U,[t("img",{"data-src":s.author.image,src:s.author.image,alt:"изображение профиля автора",class:"inline-block align-middle h-8 w-8 rounded-full ring-2 ring-gray-300 dark:ring-gray-500"},null,8,B),t("div",N,[t("span",null,o(s.author.username),1)])])]),t("td",R,[t("h1",V,o(s.title),1)]),t("td",q,[t("span",F,o(new Date(s.createdAt).toDateString()),1)]),t("td",H,[t("span",G,o(new Date(s.endTimedAt).toDateString()),1)]),t("td",I,[t("span",j,o(s.status),1)]),t("td",M,[t("span",X,o(s.priority),1)]),t("td",z,[t("a",{href:`/todos/${s.id}`,class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},[t("span",K,"Подробнее."+o(s.id),1)],8,J)])])]))),128))])])])]))}}),Q={class:"p-4 md:ml-64 h-auto pt-20",style:{"background-color":"#5a80ed"}},W={class:"flex md:space-x-4"},Y={class:"md:w-3/4 mr-4"},Z={key:0},tt={key:1},st={key:0},et={key:1},ot=t("div",{class:"md:w-1/4 mt-2"},[t("div",{class:"sidebar p-3 rounded bg-gray-800"},[t("p",{class:"mb-2 text-sm font-medium text-gray-400"}," Популярные теги ")])],-1),_t=h({__name:"index",setup(m){const d=$(),l=C(()=>{const c=new URL(`${p}/todos`);return c.searchParams.append("limit","10"),d.query.offset&&c.searchParams.append("offset",d.query.offset),c.toString()}),{data:s,pending:u}=_(l,{method:"GET"},"$dCt8kCIUPq");return _(new URL(`${p}/tags`).toString(),{method:"GET"},"$0ucXvVd3CE"),console.log("todoData:",s.value),(c,at)=>{const g=b,x=O,y=D,f=k;return a(),n("div",Q,[r(g,null,{default:i(()=>[t("title",null,"Задачи — "+o(c.APP_NAME),1)]),_:1}),r(f,null,{default:i(()=>[t("div",W,[t("div",Y,[e(u)?(a(),n("p",Z,"Loading todos...")):(a(),n("div",tt,[e(s)&&e(s).todos&&e(s).todos.length===0?(a(),n("p",st," Здесь нет статей... пока. ")):e(s)&&e(s).todos?(a(),n("div",et,[r(x,{todos:e(s).todos},null,8,["todos"]),r(y,{"base-url":"/","entity-count":e(s).todosCount},null,8,["entity-count"])])):P("",!0)]))]),ot])]),_:1})])}}});export{_t as default};
