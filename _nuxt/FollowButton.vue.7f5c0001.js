import{a as f}from"./FavoriteButton.vue.e7c3ca83.js";import{f as d,r as v,o as n,c,a as o,b as _,g as l,t as i,q as g,y as h}from"./entry.4e723040.js";import{a as y,r as w}from"./article.b7024956.js";import{a as x}from"./auth.d5266ccf.js";const k={class:"inline-flex"},C={key:0},b={class:"ml-1"},S={class:"ml-1"},B={key:1},V=d({__name:"FollowButton",props:{favoritesCount:{},active:{type:Boolean},articleSlug:{},text:{}},setup(u){const r=u,t=v(r.active),m=x(),p=async()=>{var a;const e=(a=m.currentUser)==null?void 0:a.token;if(!e){await h("/user/register");return}if(t.value)try{await w(e,r.articleSlug),t.value=!1}catch{}else try{await y(e,r.articleSlug),t.value=!0}catch{}};return(e,a)=>{const s=f;return n(),c("div",null,[o("button",{class:g(["inline-flex items-center justify-center border rounded text-xs px-2 py-1",l(t)?"bg-custom-green text-white":"border-custom-green bg-white text-custom-green"]),onClick:p},[o("span",k,[_(s,{color:l(t)?"white":"currentColor",class:"w-3 h-3 mr-1"},null,8,["color"])]),e.text?(n(),c("div",C,[o("span",b,i(e.text),1),o("span",S,"("+i(e.favoritesCount)+")",1)])):(n(),c("div",B,i(e.favoritesCount),1))],2)])}}});export{V as _};
