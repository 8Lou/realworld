import{_ as x,H as S}from"./TheContainer.55625e00.js";import{A as E,a as g}from"./index.e0cfa627.js";import{f as y,o as a,c as n,b as s,w as i,a as r,t as w,g as t,p as I,e as N,_ as B,j as M,l as f,i as b,F as U,s as F}from"./entry.4e723040.js";import{_ as G,a as j}from"./ArticleList.vue.fc7a3821.js";import{_ as D}from"./CustomPagination.vue.80e78d69.js";import{_ as H}from"./AppTag.vue.d872ccda.js";import{_ as J}from"./nuxt-link.8cb77361.js";import{u as h}from"./fetch.a60d0d79.js";import"./FavoriteButton.vue.e7c3ca83.js";import"./article.b7024956.js";import"./auth.d5266ccf.js";const V=_=>(I("data-v-97ac776a"),_=_(),N(),_),Q={class:"w-full flex justify-center items-center text-center p-4 overflow-auto text-gray-400 shadow-inner"},W={class:"text-6xl font-extrabold text-center pb-4 text-shadow"},X=V(()=>r("p",{class:"font-thin text-xl pb-4 text-shadow"}," CRM система для управления недвижимостью. ",-1)),z=y({__name:"AppJumbotron",setup(_){const e=E.toLowerCase();return(u,m)=>{const l=x;return a(),n("div",Q,[s(l,null,{default:i(()=>[r("h1",W,w(t(e)),1),X]),_:1})])}}});const K=B(z,[["__scopeId","data-v-97ac776a"]]),O={class:"p-4 md:ml-64 h-auto pt-20",style:{background:`linear-gradient(\r
          217deg,\r
          rgba(255, 0, 0, 0.8),\r
          rgba(255, 0, 0, 0) 70.71%\r
        ),\r
        linear-gradient(127deg, rgba(0, 100, 0, 0.8), rgba(0, 155, 0, 0) 70.71%),\r
        linear-gradient(336deg, rgba(0, 0, 255, 0.8), rgba(0, 0, 255, 0) 70.71%)`}},Y={class:"flex md:space-x-4"},Z={class:"md:w-3/4 mr-4"},tt={key:0},et={key:1},at={key:0},nt={key:1},ot={class:"md:w-1/4 mt-2"},st={class:"sidebar p-3 rounded bg-white-800"},rt=r("p",{class:"mb-3 text-sm font-medium text-white",style:{"background-color":"rgba(100, 100, 100, 0.8)","border-radius":"5px",padding:"7px"}}," Популярные теги ",-1),ct={key:0,style:{color:"#7fbfed"}},_t={key:1,class:"tag-list list-none"},wt=y({__name:"index",setup(_){"~/constants";const e=M(),u=f(()=>{const o=[{label:"Все новости",href:"/"}];return e.query.tag?[...o,{label:`#${e.query.tag}`,href:`/?tag=${e.query.tag}`}]:o}),m=e.query.tag?`#${e.query.tag}`:"Global Feed",l=f(()=>{const o=new URL(`${g}/articles`);return o.searchParams.append("limit","10"),e.query.offset&&o.searchParams.append("offset",e.query.offset),e.query.tag&&o.searchParams.append("tag",e.query.tag),o.toString()}),{data:c,pending:$}=h(l,{method:"GET"},"$pqtWcjQkdb"),{data:d,pending:k}=h(new URL(`${g}/tags`).toString(),{method:"GET"},"$cmRBlMwAGX");return(o,it)=>{const v=S,A=K,P=G,q=j,C=D,L=H,T=J,R=x;return a(),n("div",O,[s(v,null,{default:i(()=>[r("title",null,"Новости — "+w(o.APP_NAME),1)]),_:1}),s(A),s(R,null,{default:i(()=>[r("div",Y,[r("div",Z,[s(P,{tabs:t(u),"active-tab":t(m)},null,8,["tabs","active-tab"]),t($)?(a(),n("p",tt,"Loading articles...")):(a(),n("div",et,[t(c)&&t(c).articles&&t(c).articles.length===0?(a(),n("p",at," Здесь нет статей... пока. ")):t(c)&&t(c).articles?(a(),n("div",nt,[s(q,{articles:t(c).articles},null,8,["articles"]),s(C,{"base-url":"/","entity-count":t(c).articlesCount},null,8,["entity-count"])])):b("",!0)]))]),r("div",ot,[r("div",st,[rt,t(k)?(a(),n("p",ct,"Загрузка тегов...")):t(d)&&t(d).tags?(a(),n("ul",_t,[(a(!0),n(U,null,F(t(d).tags,p=>(a(),n("li",{key:p,class:"mr-1 mb-1 inline-block"},[s(T,{href:`./?tag=${encodeURIComponent(p)}`},{default:i(()=>[s(L,{name:p,class:"tag text-white",style:{"background-color":"rgba(100, 100, 100, 0.8)","border-radius":"5px",border:"rgba(100, 100, 100, 0.8)",padding:"7px"}},null,8,["name"])]),_:2},1032,["href"])]))),128))])):b("",!0)])])])]),_:1})])}}});export{wt as default};
