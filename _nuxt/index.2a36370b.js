import{_ as x,H as P}from"./TheContainer.58caa0a4.js";import{_ as C}from"./UserAvatar.vue.f03bb6f7.js";import{_ as S}from"./nuxt-link.ce1698c8.js";import{_ as B}from"./FollowButton.vue.7d684a4b.js";import{a as E}from"./auth.3873e1eb.js";import{f as $,o,c as i,b as n,w as p,a as c,t as d,g as e,h as y,d as F,i as f,p as I,e as L,_ as M,j as V,r as g,k as j,l as q}from"./entry.00d493d3.js";import{_ as H,a as J}from"./ArticleList.vue.55e4db92.js";import{_ as R}from"./CustomPagination.vue.ccde5155.js";import{u as z}from"./fetch.e32eb309.js";import{A as D,a as G}from"./index.e0cfa627.js";import{g as O}from"./user.cc9b10bc.js";import"./FavoriteButton.vue.3a5600b7.js";import"./article.b7024956.js";import"./AppTag.vue.f92c88d9.js";const K=u=>(I("data-v-c2d19b6c"),u=u(),L(),u),Q={class:"jumbotron bg-gray-100 text-center py-4 overflow-auto"},W={class:"w-full md:w-4/5 md:mx-auto"},X={class:"font-semibold text-xl"},Y={class:"text-gray-400 font-light max-w-xl mx-auto mb-2"},Z=K(()=>c("i",{class:"ion-gear-a"},null,-1)),ee=$({__name:"UserJumbotron",props:{user:{}},setup(u){const r=E();return(t,l)=>{const h=C,_=S,b=B,v=x;return o(),i("div",Q,[n(v,null,{default:p(()=>{var a,m;return[c("div",W,[n(h,{image:t.user.image,class:"avatar w-24 h-24 mb-4"},null,8,["image"]),c("h4",X,d(t.user.username),1),c("p",Y,d(t.user.bio),1),((a=e(r).currentUser)==null?void 0:a.username)===t.user.username?(o(),y(_,{key:0,href:"/user/settings",class:"float-right text-gray-600 border border-gray-600 px-2 py-1 text-sm rounded-sm"},{default:p(()=>[Z,F(" Edit Profile Settings ")]),_:1})):f("",!0),((m=e(r).currentUser)==null?void 0:m.username)!==t.user.username?(o(),y(b,{key:1,class:"float-right",username:t.user.username,active:!1},null,8,["username"])):f("",!0)])]}),_:1})])}}});const te=M(ee,[["__scopeId","data-v-c2d19b6c"]]),se={class:"w-full md:w-4/5 md:mx-auto"},ae={key:0,class:"text-center"},oe={key:1},re={key:0,class:"text-center mb-4"},ne={key:1},$e=$({__name:"index",setup(u){const r=V(),t=r.params.userName,l=g(null);if(typeof t!="string")throw new TypeError("userName can't be a string");const h=[{label:"My Article",href:`@${t}`},{label:"Favorited Articles",href:`@${t}?favorited=true`}],_=g(r.query.favorited?"Favorited Articles":"My Article");j(async()=>{try{const{profile:s}=await O(t);l.value=s}catch{}});const b=s=>{_.value=s},v=q(()=>{const s=new URL(`${G}/articles`);return s.searchParams.append("limit","10"),_.value==="Favorited Articles"?s.searchParams.append("favorited",t):s.searchParams.append("author",t),r.query.offset&&s.searchParams.append("offset",r.query.offset),s.toString()}),{data:a,pending:m}=z(v,{method:"GET"},"$cAip0jOz9p");return(s,ce)=>{const w=P,A=te,k=H,U=J,N=R,T=x;return o(),i("div",null,[n(w,null,{default:p(()=>[c("title",null,d(e(t))+" â€” "+d(e(D)),1)]),_:1}),e(l)?(o(),y(A,{key:0,user:e(l)},null,8,["user"])):f("",!0),n(T,null,{default:p(()=>[c("div",se,[n(k,{tabs:h,"active-tab":e(_),"onUpdate:activeTab":b},null,8,["active-tab"]),c("div",null,[e(m)?(o(),i("p",ae,"Loading articles...")):(o(),i("div",oe,[e(a)&&e(a).articles&&e(a).articles.length===0?(o(),i("p",re," No articles are here... yet. ")):e(a)&&e(a).articles?(o(),i("div",ne,[n(U,{articles:e(a).articles},null,8,["articles"]),n(N,{"base-url":`/@${e(t)}`,"entity-count":e(a).articlesCount},null,8,["base-url","entity-count"])])):f("",!0)]))])])]),_:1})])}}});export{$e as default};
